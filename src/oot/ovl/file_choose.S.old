#include <combo/asm.h>

.global hookDeep_FileChoose_Update
hookDeep_FileChoose_Update:
  /* Prologue */
  addiu sp,-0x8
  sw    ra,0x4(sp)
  sw    a0,0x0(sp)

  /* Apply our changes */
  jal   hook_FileChoose_Update
   nop

  /* Restore */
  lw      a0,0x0(sp)
  lw      ra,0x4(sp)
  addiu   sp,0x8

  /* Original code */
  lui t6,0x8012
  lbu t6,0x1212(t6)

  /* Jump back */
  jr      ra
   nop

PATCH_START(0x80811770)
  jal hookDeep_FileChoose_Update
   nop
PATCH_END
